{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/admin/sections/Overview.tsx"],"sourcesContent":["\"use client\";\n\nimport { useQuery } from \"@tanstack/react-query\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\";\nimport { Users, FileText, DollarSign, AlertCircle } from \"lucide-react\";\nimport { formatDistanceToNow } from \"date-fns\";\nimport { LineChart, Line, BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from \"recharts\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\n\nexport default function AdminOverview() {\n  const { data: stats, isLoading: statsLoading } = useQuery({\n    queryKey: [\"/api/admin/overview/stats\"]\n  });\n\n  const { data: activityFeed, isLoading: activityLoading } = useQuery({\n    queryKey: [\"/api/admin/overview/activity-feed\"]\n  });\n\n  const { data: userGrowth, isLoading: growthLoading } = useQuery({\n    queryKey: [\"/api/admin/overview/user-growth\"]\n  });\n\n  const { data: contentTrend, isLoading: trendLoading } = useQuery({\n    queryKey: [\"/api/admin/overview/content-trend\"]\n  });\n\n  if (statsLoading) {\n    return (\n      <div className=\"space-y-6\">\n        <Skeleton className=\"h-10 w-64\" />\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n          {[...Array(4)].map((_, i) => (\n            <Skeleton key={i} className=\"h-32\" />\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <h1 className=\"text-3xl font-bold\">Overview Dashboard</h1>\n      \n      {/* Stat Cards Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n        <Card data-testid=\"card-total-users\">\n          <CardHeader className=\"flex flex-row items-center justify-between gap-2 space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Total Users</CardTitle>\n            <Users className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\" data-testid=\"text-total-users\">\n              {stats?.users?.total || 0}\n            </div>\n            <p className=\"text-xs text-muted-foreground\">\n              +{stats?.users?.new24h || 0} in last 24h\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card data-testid=\"card-total-content\">\n          <CardHeader className=\"flex flex-row items-center justify-between gap-2 space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Total Content</CardTitle>\n            <FileText className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\" data-testid=\"text-total-content\">\n              {stats?.content?.total || 0}\n            </div>\n            <p className=\"text-xs text-muted-foreground\">\n              +{stats?.content?.new24h || 0} in last 24h\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card data-testid=\"card-total-revenue\">\n          <CardHeader className=\"flex flex-row items-center justify-between gap-2 space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Total Revenue</CardTitle>\n            <DollarSign className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\" data-testid=\"text-total-revenue\">\n              ${stats?.revenue?.total || 0}\n            </div>\n            <p className=\"text-xs text-muted-foreground\">\n              +${stats?.revenue?.today || 0} today\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card data-testid=\"card-pending-moderation\">\n          <CardHeader className=\"flex flex-row items-center justify-between gap-2 space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Pending Moderation</CardTitle>\n            <AlertCircle className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\" data-testid=\"text-pending-moderation\">\n              {stats?.moderation?.pending || 0}\n            </div>\n            <p className=\"text-xs text-muted-foreground\">\n              {stats?.moderation?.reports || 0} reports\n            </p>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Charts Row */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <Card data-testid=\"card-user-growth-chart\">\n          <CardHeader>\n            <CardTitle>User Growth (Last 7 Days)</CardTitle>\n          </CardHeader>\n          <CardContent>\n            {growthLoading ? (\n              <Skeleton className=\"h-64\" />\n            ) : userGrowth && userGrowth.length > 0 ? (\n              <ResponsiveContainer width=\"100%\" height={250}>\n                <LineChart data={userGrowth}>\n                  <CartesianGrid strokeDasharray=\"3 3\" />\n                  <XAxis dataKey=\"date\" />\n                  <YAxis />\n                  <Tooltip />\n                  <Line type=\"monotone\" dataKey=\"users\" stroke=\"hsl(var(--primary))\" strokeWidth={2} />\n                </LineChart>\n              </ResponsiveContainer>\n            ) : (\n              <div className=\"h-64 flex items-center justify-center text-muted-foreground\">\n                No data available\n              </div>\n            )}\n          </CardContent>\n        </Card>\n        \n        <Card data-testid=\"card-content-trend-chart\">\n          <CardHeader>\n            <CardTitle>Content Trend (Last 7 Days)</CardTitle>\n          </CardHeader>\n          <CardContent>\n            {trendLoading ? (\n              <Skeleton className=\"h-64\" />\n            ) : contentTrend && contentTrend.length > 0 ? (\n              <ResponsiveContainer width=\"100%\" height={250}>\n                <BarChart data={contentTrend}>\n                  <CartesianGrid strokeDasharray=\"3 3\" />\n                  <XAxis dataKey=\"date\" />\n                  <YAxis />\n                  <Tooltip />\n                  <Bar dataKey=\"count\" fill=\"hsl(var(--primary))\" />\n                </BarChart>\n              </ResponsiveContainer>\n            ) : (\n              <div className=\"h-64 flex items-center justify-center text-muted-foreground\">\n                No data available\n              </div>\n            )}\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Activity Feed */}\n      <Card data-testid=\"card-activity-feed\">\n        <CardHeader>\n          <CardTitle>Recent Admin Activity</CardTitle>\n        </CardHeader>\n        <CardContent>\n          {activityLoading ? (\n            <div className=\"space-y-2\">\n              {[...Array(5)].map((_, i) => (\n                <Skeleton key={i} className=\"h-12\" />\n              ))}\n            </div>\n          ) : activityFeed && activityFeed.length > 0 ? (\n            <div className=\"overflow-x-auto\">\n              <Table>\n                <TableHeader>\n                  <TableRow>\n                    <TableHead>Admin</TableHead>\n                    <TableHead>Action</TableHead>\n                    <TableHead>Target</TableHead>\n                    <TableHead>Status</TableHead>\n                    <TableHead>Time</TableHead>\n                  </TableRow>\n                </TableHeader>\n                <TableBody>\n                  {activityFeed.map((activity: any) => (\n                    <TableRow key={activity.id} data-testid={`activity-${activity.id}`}>\n                      <TableCell data-testid={`activity-admin-${activity.id}`}>\n                        {activity.adminUsername || 'System'}\n                      </TableCell>\n                      <TableCell data-testid={`activity-action-${activity.id}`}>\n                        {activity.actionType}\n                      </TableCell>\n                      <TableCell data-testid={`activity-target-${activity.id}`}>\n                        {activity.targetType}\n                      </TableCell>\n                      <TableCell>\n                        <Badge variant={activity.status === 'success' ? 'default' : 'destructive'}>\n                          {activity.status}\n                        </Badge>\n                      </TableCell>\n                      <TableCell data-testid={`activity-time-${activity.id}`}>\n                        {formatDistanceToNow(new Date(activity.createdAt), { addSuffix: true })}\n                      </TableCell>\n                    </TableRow>\n                  ))}\n                </TableBody>\n              </Table>\n            </div>\n          ) : (\n            <p className=\"text-muted-foreground text-center py-8\">No recent activity</p>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 758, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/admin/sections/Users.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { Search, Ban, UserCheck, Coins } from \"lucide-react\";\nimport { formatDistanceToNow } from \"date-fns\";\nimport { queryClient, apiRequest } from \"@/lib/queryClient\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\n\nexport default function AdminUsers() {\n  const [search, setSearch] = useState(\"\");\n  const [roleFilter, setRoleFilter] = useState(\"all\");\n  const [statusFilter, setStatusFilter] = useState(\"all\");\n  const [selectedUser, setSelectedUser] = useState<any>(null);\n  const { toast } = useToast();\n\n  const { data: users, isLoading } = useQuery({\n    queryKey: [\"/api/admin/users\", { search, role: roleFilter, status: statusFilter }]\n  });\n\n  const banUserMutation = useMutation({\n    mutationFn: async ({ userId, reason }: { userId: number; reason: string }) => {\n      return apiRequest(\"POST\", `/api/admin/users/${userId}/ban`, { reason });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/users\"] });\n      toast({ title: \"User banned successfully\" });\n    },\n    onError: () => {\n      toast({ title: \"Failed to ban user\", variant: \"destructive\" });\n    }\n  });\n\n  const adjustCoinsMutation = useMutation({\n    mutationFn: async ({ userId, amount, reason }: { userId: number; amount: number; reason: string }) => {\n      return apiRequest(\"POST\", `/api/admin/users/${userId}/adjust-coins`, { amount, reason });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/users\"] });\n      toast({ title: \"Coins adjusted successfully\" });\n    },\n    onError: () => {\n      toast({ title: \"Failed to adjust coins\", variant: \"destructive\" });\n    }\n  });\n\n  if (isLoading) {\n    return (\n      <div className=\"space-y-6\">\n        <Skeleton className=\"h-10 w-64\" />\n        <Skeleton className=\"h-96\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between gap-4 flex-wrap\">\n        <h1 className=\"text-3xl font-bold\">User Management</h1>\n      </div>\n\n      {/* Filters */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Search & Filters</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"flex flex-col md:flex-row gap-4\">\n            <div className=\"relative flex-1\">\n              <Search className=\"absolute left-3 top-3 h-4 w-4 text-muted-foreground\" />\n              <Input\n                placeholder=\"Search by username or email...\"\n                value={search}\n                onChange={(e) => setSearch(e.target.value)}\n                className=\"pl-9\"\n                data-testid=\"input-user-search\"\n              />\n            </div>\n            <Select value={roleFilter} onValueChange={setRoleFilter}>\n              <SelectTrigger className=\"w-full md:w-48\" data-testid=\"select-role-filter\">\n                <SelectValue placeholder=\"Filter by role\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"all\">All Roles</SelectItem>\n                <SelectItem value=\"user\">User</SelectItem>\n                <SelectItem value=\"moderator\">Moderator</SelectItem>\n                <SelectItem value=\"admin\">Admin</SelectItem>\n              </SelectContent>\n            </Select>\n            <Select value={statusFilter} onValueChange={setStatusFilter}>\n              <SelectTrigger className=\"w-full md:w-48\" data-testid=\"select-status-filter\">\n                <SelectValue placeholder=\"Filter by status\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"all\">All Status</SelectItem>\n                <SelectItem value=\"active\">Active</SelectItem>\n                <SelectItem value=\"suspended\">Suspended</SelectItem>\n                <SelectItem value=\"banned\">Banned</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Users Table */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Users ({users?.length || 0})</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"overflow-x-auto\">\n            <Table>\n              <TableHeader>\n                <TableRow>\n                  <TableHead>User</TableHead>\n                  <TableHead>Email</TableHead>\n                  <TableHead>Role</TableHead>\n                  <TableHead>Status</TableHead>\n                  <TableHead>Coins</TableHead>\n                  <TableHead>Joined</TableHead>\n                  <TableHead>Actions</TableHead>\n                </TableRow>\n              </TableHeader>\n              <TableBody>\n                {users && users.length > 0 ? (\n                  users.map((user: any) => (\n                    <TableRow key={user.id} data-testid={`user-row-${user.id}`}>\n                      <TableCell data-testid={`user-name-${user.id}`}>\n                        {user.username}\n                      </TableCell>\n                      <TableCell>{user.email}</TableCell>\n                      <TableCell>\n                        <Badge variant=\"outline\">{user.role}</Badge>\n                      </TableCell>\n                      <TableCell>\n                        <Badge variant={user.status === 'active' ? 'default' : 'destructive'}>\n                          {user.status}\n                        </Badge>\n                      </TableCell>\n                      <TableCell data-testid={`user-coins-${user.id}`}>\n                        {user.coinBalance || 0}\n                      </TableCell>\n                      <TableCell>\n                        {formatDistanceToNow(new Date(user.createdAt), { addSuffix: true })}\n                      </TableCell>\n                      <TableCell>\n                        <div className=\"flex gap-2 flex-wrap\">\n                          <Button\n                            size=\"sm\"\n                            variant=\"outline\"\n                            onClick={() => setSelectedUser(user)}\n                            data-testid={`button-view-user-${user.id}`}\n                          >\n                            <UserCheck className=\"h-4 w-4 mr-1\" />\n                            View\n                          </Button>\n                          <Button\n                            size=\"sm\"\n                            variant=\"destructive\"\n                            onClick={() => banUserMutation.mutate({ userId: user.id, reason: \"Manual ban\" })}\n                            disabled={user.status === 'banned'}\n                            data-testid={`button-ban-user-${user.id}`}\n                          >\n                            <Ban className=\"h-4 w-4 mr-1\" />\n                            Ban\n                          </Button>\n                        </div>\n                      </TableCell>\n                    </TableRow>\n                  ))\n                ) : (\n                  <TableRow>\n                    <TableCell colSpan={7} className=\"text-center py-8 text-muted-foreground\">\n                      No users found\n                    </TableCell>\n                  </TableRow>\n                )}\n              </TableBody>\n            </Table>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* User Detail Dialog */}\n      <Dialog open={!!selectedUser} onOpenChange={() => setSelectedUser(null)}>\n        <DialogContent data-testid=\"dialog-user-detail\">\n          <DialogHeader>\n            <DialogTitle>User Details</DialogTitle>\n            <DialogDescription>\n              Detailed information and actions for {selectedUser?.username}\n            </DialogDescription>\n          </DialogHeader>\n          {selectedUser && (\n            <div className=\"space-y-4\">\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <p className=\"text-sm text-muted-foreground\">Username</p>\n                  <p className=\"font-medium\">{selectedUser.username}</p>\n                </div>\n                <div>\n                  <p className=\"text-sm text-muted-foreground\">Email</p>\n                  <p className=\"font-medium\">{selectedUser.email}</p>\n                </div>\n                <div>\n                  <p className=\"text-sm text-muted-foreground\">Coin Balance</p>\n                  <p className=\"font-medium\">{selectedUser.coinBalance || 0}</p>\n                </div>\n                <div>\n                  <p className=\"text-sm text-muted-foreground\">Reputation</p>\n                  <p className=\"font-medium\">{selectedUser.reputation || 0}</p>\n                </div>\n              </div>\n              <div className=\"flex gap-2 flex-wrap\">\n                <Button\n                  onClick={() => {\n                    adjustCoinsMutation.mutate({ \n                      userId: selectedUser.id, \n                      amount: 100, \n                      reason: \"Admin adjustment\" \n                    });\n                    setSelectedUser(null);\n                  }}\n                  data-testid=\"button-add-coins\"\n                >\n                  <Coins className=\"h-4 w-4 mr-1\" />\n                  Add 100 Coins\n                </Button>\n              </div>\n            </div>\n          )}\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1580, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/admin/sections/Content.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\";\nimport { Button } from \"@/components/ui/button\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { CheckCircle, XCircle, Trash2, Eye } from \"lucide-react\";\nimport { formatDistanceToNow } from \"date-fns\";\nimport { queryClient, apiRequest } from \"@/lib/queryClient\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\n\nexport default function AdminContent() {\n  const [typeFilter, setTypeFilter] = useState(\"all\");\n  const [statusFilter, setStatusFilter] = useState(\"pending\");\n  const { toast } = useToast();\n\n  const { data: moderationQueue, isLoading: queueLoading } = useQuery({\n    queryKey: [\"/api/admin/content/moderation-queue\", { type: typeFilter, status: statusFilter }]\n  });\n\n  const { data: reportedContent, isLoading: reportsLoading } = useQuery({\n    queryKey: [\"/api/admin/content/reported\"]\n  });\n\n  const approveMutation = useMutation({\n    mutationFn: async (contentId: number) => {\n      return apiRequest(\"POST\", `/api/admin/content/${contentId}/approve`, {});\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/content\"] });\n      toast({ title: \"Content approved successfully\" });\n    },\n    onError: () => {\n      toast({ title: \"Failed to approve content\", variant: \"destructive\" });\n    }\n  });\n\n  const rejectMutation = useMutation({\n    mutationFn: async ({ contentId, reason }: { contentId: number; reason: string }) => {\n      return apiRequest(\"POST\", `/api/admin/content/${contentId}/reject`, { reason });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/content\"] });\n      toast({ title: \"Content rejected successfully\" });\n    },\n    onError: () => {\n      toast({ title: \"Failed to reject content\", variant: \"destructive\" });\n    }\n  });\n\n  const deleteMutation = useMutation({\n    mutationFn: async (contentId: number) => {\n      return apiRequest(\"DELETE\", `/api/admin/content/${contentId}`, {});\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/content\"] });\n      toast({ title: \"Content deleted successfully\" });\n    },\n    onError: () => {\n      toast({ title: \"Failed to delete content\", variant: \"destructive\" });\n    }\n  });\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between gap-4 flex-wrap\">\n        <h1 className=\"text-3xl font-bold\">Content Moderation</h1>\n      </div>\n\n      <Tabs defaultValue=\"queue\" className=\"space-y-4\">\n        <TabsList>\n          <TabsTrigger value=\"queue\" data-testid=\"tab-moderation-queue\">\n            Moderation Queue\n          </TabsTrigger>\n          <TabsTrigger value=\"reported\" data-testid=\"tab-reported-content\">\n            Reported Content\n          </TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"queue\" className=\"space-y-4\">\n          {/* Filters */}\n          <Card>\n            <CardHeader>\n              <CardTitle>Filters</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"flex flex-col md:flex-row gap-4\">\n                <Select value={typeFilter} onValueChange={setTypeFilter}>\n                  <SelectTrigger className=\"w-full md:w-48\" data-testid=\"select-content-type\">\n                    <SelectValue placeholder=\"Content type\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"all\">All Types</SelectItem>\n                    <SelectItem value=\"thread\">Threads</SelectItem>\n                    <SelectItem value=\"reply\">Replies</SelectItem>\n                    <SelectItem value=\"ea\">EAs</SelectItem>\n                    <SelectItem value=\"article\">Articles</SelectItem>\n                  </SelectContent>\n                </Select>\n                <Select value={statusFilter} onValueChange={setStatusFilter}>\n                  <SelectTrigger className=\"w-full md:w-48\" data-testid=\"select-content-status\">\n                    <SelectValue placeholder=\"Status\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"pending\">Pending</SelectItem>\n                    <SelectItem value=\"approved\">Approved</SelectItem>\n                    <SelectItem value=\"rejected\">Rejected</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* Moderation Queue Table */}\n          <Card>\n            <CardHeader>\n              <CardTitle>Content Queue ({moderationQueue?.length || 0})</CardTitle>\n            </CardHeader>\n            <CardContent>\n              {queueLoading ? (\n                <div className=\"space-y-2\">\n                  {[...Array(5)].map((_, i) => (\n                    <Skeleton key={i} className=\"h-16\" />\n                  ))}\n                </div>\n              ) : (\n                <div className=\"overflow-x-auto\">\n                  <Table>\n                    <TableHeader>\n                      <TableRow>\n                        <TableHead>Title</TableHead>\n                        <TableHead>Type</TableHead>\n                        <TableHead>Author</TableHead>\n                        <TableHead>Status</TableHead>\n                        <TableHead>Submitted</TableHead>\n                        <TableHead>Actions</TableHead>\n                      </TableRow>\n                    </TableHeader>\n                    <TableBody>\n                      {moderationQueue && moderationQueue.length > 0 ? (\n                        moderationQueue.map((content: any) => (\n                          <TableRow key={content.id} data-testid={`content-row-${content.id}`}>\n                            <TableCell data-testid={`content-title-${content.id}`}>\n                              {content.title || 'Untitled'}\n                            </TableCell>\n                            <TableCell>\n                              <Badge variant=\"outline\">{content.type}</Badge>\n                            </TableCell>\n                            <TableCell>{content.authorUsername}</TableCell>\n                            <TableCell>\n                              <Badge \n                                variant={\n                                  content.status === 'approved' ? 'default' : \n                                  content.status === 'rejected' ? 'destructive' : \n                                  'secondary'\n                                }\n                              >\n                                {content.status}\n                              </Badge>\n                            </TableCell>\n                            <TableCell>\n                              {formatDistanceToNow(new Date(content.createdAt), { addSuffix: true })}\n                            </TableCell>\n                            <TableCell>\n                              <div className=\"flex gap-2 flex-wrap\">\n                                <Button\n                                  size=\"sm\"\n                                  variant=\"outline\"\n                                  onClick={() => approveMutation.mutate(content.id)}\n                                  disabled={content.status === 'approved'}\n                                  data-testid={`button-approve-${content.id}`}\n                                >\n                                  <CheckCircle className=\"h-4 w-4 mr-1\" />\n                                  Approve\n                                </Button>\n                                <Button\n                                  size=\"sm\"\n                                  variant=\"destructive\"\n                                  onClick={() => rejectMutation.mutate({ contentId: content.id, reason: \"Violates guidelines\" })}\n                                  disabled={content.status === 'rejected'}\n                                  data-testid={`button-reject-${content.id}`}\n                                >\n                                  <XCircle className=\"h-4 w-4 mr-1\" />\n                                  Reject\n                                </Button>\n                              </div>\n                            </TableCell>\n                          </TableRow>\n                        ))\n                      ) : (\n                        <TableRow>\n                          <TableCell colSpan={6} className=\"text-center py-8 text-muted-foreground\">\n                            No content in moderation queue\n                          </TableCell>\n                        </TableRow>\n                      )}\n                    </TableBody>\n                  </Table>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"reported\" className=\"space-y-4\">\n          <Card>\n            <CardHeader>\n              <CardTitle>Reported Content ({reportedContent?.length || 0})</CardTitle>\n            </CardHeader>\n            <CardContent>\n              {reportsLoading ? (\n                <div className=\"space-y-2\">\n                  {[...Array(5)].map((_, i) => (\n                    <Skeleton key={i} className=\"h-16\" />\n                  ))}\n                </div>\n              ) : (\n                <div className=\"overflow-x-auto\">\n                  <Table>\n                    <TableHeader>\n                      <TableRow>\n                        <TableHead>Content</TableHead>\n                        <TableHead>Reason</TableHead>\n                        <TableHead>Reporter</TableHead>\n                        <TableHead>Reports</TableHead>\n                        <TableHead>Reported</TableHead>\n                        <TableHead>Actions</TableHead>\n                      </TableRow>\n                    </TableHeader>\n                    <TableBody>\n                      {reportedContent && reportedContent.length > 0 ? (\n                        reportedContent.map((report: any) => (\n                          <TableRow key={report.id} data-testid={`report-row-${report.id}`}>\n                            <TableCell>{report.contentTitle || 'Content'}</TableCell>\n                            <TableCell>{report.reason}</TableCell>\n                            <TableCell>{report.reporterUsername}</TableCell>\n                            <TableCell>\n                              <Badge>{report.reportCount || 1}</Badge>\n                            </TableCell>\n                            <TableCell>\n                              {formatDistanceToNow(new Date(report.createdAt), { addSuffix: true })}\n                            </TableCell>\n                            <TableCell>\n                              <div className=\"flex gap-2 flex-wrap\">\n                                <Button\n                                  size=\"sm\"\n                                  variant=\"outline\"\n                                  data-testid={`button-view-report-${report.id}`}\n                                >\n                                  <Eye className=\"h-4 w-4 mr-1\" />\n                                  View\n                                </Button>\n                                <Button\n                                  size=\"sm\"\n                                  variant=\"destructive\"\n                                  onClick={() => deleteMutation.mutate(report.contentId)}\n                                  data-testid={`button-delete-reported-${report.id}`}\n                                >\n                                  <Trash2 className=\"h-4 w-4 mr-1\" />\n                                  Delete\n                                </Button>\n                              </div>\n                            </TableCell>\n                          </TableRow>\n                        ))\n                      ) : (\n                        <TableRow>\n                          <TableCell colSpan={6} className=\"text-center py-8 text-muted-foreground\">\n                            No reported content\n                          </TableCell>\n                        </TableRow>\n                      )}\n                    </TableBody>\n                  </Table>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        </TabsContent>\n      </Tabs>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2486, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/admin/sections/Marketplace.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { DollarSign, TrendingUp, Package, CheckCircle, XCircle } from \"lucide-react\";\nimport { formatDistanceToNow } from \"date-fns\";\nimport { queryClient, apiRequest } from \"@/lib/queryClient\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from \"recharts\";\n\nexport default function AdminMarketplace() {\n  const { toast } = useToast();\n\n  const { data: stats, isLoading: statsLoading } = useQuery({\n    queryKey: [\"/api/admin/marketplace/stats\"]\n  });\n\n  const { data: items, isLoading: itemsLoading } = useQuery({\n    queryKey: [\"/api/admin/marketplace/items\"]\n  });\n\n  const { data: topSelling, isLoading: topLoading } = useQuery({\n    queryKey: [\"/api/admin/marketplace/top-selling\"]\n  });\n\n  const { data: revenueData, isLoading: revenueLoading } = useQuery({\n    queryKey: [\"/api/admin/marketplace/revenue-chart\"]\n  });\n\n  const approveItemMutation = useMutation({\n    mutationFn: async (itemId: number) => {\n      return apiRequest(\"POST\", `/api/admin/marketplace/${itemId}/approve`, {});\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/marketplace\"] });\n      toast({ title: \"Item approved successfully\" });\n    },\n    onError: () => {\n      toast({ title: \"Failed to approve item\", variant: \"destructive\" });\n    }\n  });\n\n  const rejectItemMutation = useMutation({\n    mutationFn: async (itemId: number) => {\n      return apiRequest(\"POST\", `/api/admin/marketplace/${itemId}/reject`, {});\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/marketplace\"] });\n      toast({ title: \"Item rejected successfully\" });\n    },\n    onError: () => {\n      toast({ title: \"Failed to reject item\", variant: \"destructive\" });\n    }\n  });\n\n  return (\n    <div className=\"space-y-6\">\n      <h1 className=\"text-3xl font-bold\">Marketplace Management</h1>\n\n      {/* Stats Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n        <Card data-testid=\"card-total-items\">\n          <CardHeader className=\"flex flex-row items-center justify-between gap-2 space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Total Items</CardTitle>\n            <Package className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            {statsLoading ? (\n              <Skeleton className=\"h-8 w-20\" />\n            ) : (\n              <>\n                <div className=\"text-2xl font-bold\" data-testid=\"text-total-items\">\n                  {stats?.totalItems || 0}\n                </div>\n                <p className=\"text-xs text-muted-foreground\">\n                  {stats?.pendingItems || 0} pending approval\n                </p>\n              </>\n            )}\n          </CardContent>\n        </Card>\n\n        <Card data-testid=\"card-total-sales\">\n          <CardHeader className=\"flex flex-row items-center justify-between gap-2 space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Total Sales</CardTitle>\n            <TrendingUp className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            {statsLoading ? (\n              <Skeleton className=\"h-8 w-20\" />\n            ) : (\n              <>\n                <div className=\"text-2xl font-bold\" data-testid=\"text-total-sales\">\n                  {stats?.totalSales || 0}\n                </div>\n                <p className=\"text-xs text-muted-foreground\">\n                  +{stats?.salesThisWeek || 0} this week\n                </p>\n              </>\n            )}\n          </CardContent>\n        </Card>\n\n        <Card data-testid=\"card-total-revenue\">\n          <CardHeader className=\"flex flex-row items-center justify-between gap-2 space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Total Revenue</CardTitle>\n            <DollarSign className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            {statsLoading ? (\n              <Skeleton className=\"h-8 w-20\" />\n            ) : (\n              <>\n                <div className=\"text-2xl font-bold\" data-testid=\"text-marketplace-revenue\">\n                  ${stats?.totalRevenue || 0}\n                </div>\n                <p className=\"text-xs text-muted-foreground\">\n                  +${stats?.revenueThisWeek || 0} this week\n                </p>\n              </>\n            )}\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Revenue Chart */}\n      <Card data-testid=\"card-revenue-chart\">\n        <CardHeader>\n          <CardTitle>Revenue Trend (Last 30 Days)</CardTitle>\n        </CardHeader>\n        <CardContent>\n          {revenueLoading ? (\n            <Skeleton className=\"h-64\" />\n          ) : revenueData && revenueData.length > 0 ? (\n            <ResponsiveContainer width=\"100%\" height={250}>\n              <LineChart data={revenueData}>\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis dataKey=\"date\" />\n                <YAxis />\n                <Tooltip />\n                <Line type=\"monotone\" dataKey=\"revenue\" stroke=\"hsl(var(--primary))\" strokeWidth={2} />\n              </LineChart>\n            </ResponsiveContainer>\n          ) : (\n            <div className=\"h-64 flex items-center justify-center text-muted-foreground\">\n              No revenue data available\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Top Selling Items */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Top Selling Items</CardTitle>\n        </CardHeader>\n        <CardContent>\n          {topLoading ? (\n            <div className=\"space-y-2\">\n              {[...Array(3)].map((_, i) => (\n                <Skeleton key={i} className=\"h-12\" />\n              ))}\n            </div>\n          ) : topSelling && topSelling.length > 0 ? (\n            <div className=\"space-y-3\">\n              {topSelling.map((item: any, index: number) => (\n                <div key={item.id} className=\"flex items-center justify-between p-3 rounded-lg border\">\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"text-lg font-bold text-muted-foreground\">#{index + 1}</div>\n                    <div>\n                      <p className=\"font-medium\">{item.title}</p>\n                      <p className=\"text-sm text-muted-foreground\">{item.sales || 0} sales</p>\n                    </div>\n                  </div>\n                  <Badge>{item.coinPrice || 0} coins</Badge>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <p className=\"text-muted-foreground text-center py-8\">No sales data available</p>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Marketplace Items Table */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Marketplace Items ({items?.length || 0})</CardTitle>\n        </CardHeader>\n        <CardContent>\n          {itemsLoading ? (\n            <div className=\"space-y-2\">\n              {[...Array(5)].map((_, i) => (\n                <Skeleton key={i} className=\"h-16\" />\n              ))}\n            </div>\n          ) : (\n            <div className=\"overflow-x-auto\">\n              <Table>\n                <TableHeader>\n                  <TableRow>\n                    <TableHead>Title</TableHead>\n                    <TableHead>Seller</TableHead>\n                    <TableHead>Price</TableHead>\n                    <TableHead>Sales</TableHead>\n                    <TableHead>Status</TableHead>\n                    <TableHead>Listed</TableHead>\n                    <TableHead>Actions</TableHead>\n                  </TableRow>\n                </TableHeader>\n                <TableBody>\n                  {items && items.length > 0 ? (\n                    items.map((item: any) => (\n                      <TableRow key={item.id} data-testid={`item-row-${item.id}`}>\n                        <TableCell data-testid={`item-title-${item.id}`}>\n                          {item.title}\n                        </TableCell>\n                        <TableCell>{item.sellerUsername}</TableCell>\n                        <TableCell>{item.coinPrice || 0} coins</TableCell>\n                        <TableCell>{item.sales || 0}</TableCell>\n                        <TableCell>\n                          <Badge variant={item.status === 'approved' ? 'default' : 'secondary'}>\n                            {item.status}\n                          </Badge>\n                        </TableCell>\n                        <TableCell>\n                          {formatDistanceToNow(new Date(item.createdAt), { addSuffix: true })}\n                        </TableCell>\n                        <TableCell>\n                          <div className=\"flex gap-2 flex-wrap\">\n                            <Button\n                              size=\"sm\"\n                              variant=\"outline\"\n                              onClick={() => approveItemMutation.mutate(item.id)}\n                              disabled={item.status === 'approved'}\n                              data-testid={`button-approve-item-${item.id}`}\n                            >\n                              <CheckCircle className=\"h-4 w-4 mr-1\" />\n                              Approve\n                            </Button>\n                            <Button\n                              size=\"sm\"\n                              variant=\"destructive\"\n                              onClick={() => rejectItemMutation.mutate(item.id)}\n                              disabled={item.status === 'rejected'}\n                              data-testid={`button-reject-item-${item.id}`}\n                            >\n                              <XCircle className=\"h-4 w-4 mr-1\" />\n                              Reject\n                            </Button>\n                          </div>\n                        </TableCell>\n                      </TableRow>\n                    ))\n                  ) : (\n                    <TableRow>\n                      <TableCell colSpan={7} className=\"text-center py-8 text-muted-foreground\">\n                        No marketplace items found\n                      </TableCell>\n                    </TableRow>\n                  )}\n                </TableBody>\n              </Table>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3343, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/admin/sections/Brokers.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { Search, CheckCircle, XCircle, AlertTriangle, Eye } from \"lucide-react\";\nimport { formatDistanceToNow } from \"date-fns\";\nimport { queryClient, apiRequest } from \"@/lib/queryClient\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\n\nexport default function AdminBrokers() {\n  const [search, setSearch] = useState(\"\");\n  const { toast } = useToast();\n\n  const { data: brokers, isLoading: brokersLoading } = useQuery({\n    queryKey: [\"/api/admin/brokers\", { search }]\n  });\n\n  const { data: scamReports, isLoading: reportsLoading } = useQuery({\n    queryKey: [\"/api/admin/brokers/scam-reports\"]\n  });\n\n  const { data: reviews, isLoading: reviewsLoading } = useQuery({\n    queryKey: [\"/api/admin/brokers/reviews\"]\n  });\n\n  const verifyBrokerMutation = useMutation({\n    mutationFn: async (brokerId: number) => {\n      return apiRequest(\"POST\", `/api/admin/brokers/${brokerId}/verify`, {});\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/brokers\"] });\n      toast({ title: \"Broker verified successfully\" });\n    },\n    onError: () => {\n      toast({ title: \"Failed to verify broker\", variant: \"destructive\" });\n    }\n  });\n\n  const unverifyBrokerMutation = useMutation({\n    mutationFn: async (brokerId: number) => {\n      return apiRequest(\"POST\", `/api/admin/brokers/${brokerId}/unverify`, {});\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/brokers\"] });\n      toast({ title: \"Broker verification removed\" });\n    },\n    onError: () => {\n      toast({ title: \"Failed to unverify broker\", variant: \"destructive\" });\n    }\n  });\n\n  const resolveScamReportMutation = useMutation({\n    mutationFn: async ({ reportId, action }: { reportId: number; action: string }) => {\n      return apiRequest(\"POST\", `/api/admin/brokers/scam-reports/${reportId}/resolve`, { action });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/brokers\"] });\n      toast({ title: \"Scam report resolved\" });\n    },\n    onError: () => {\n      toast({ title: \"Failed to resolve report\", variant: \"destructive\" });\n    }\n  });\n\n  return (\n    <div className=\"space-y-6\">\n      <h1 className=\"text-3xl font-bold\">Broker Management</h1>\n\n      <Tabs defaultValue=\"brokers\" className=\"space-y-4\">\n        <TabsList>\n          <TabsTrigger value=\"brokers\" data-testid=\"tab-brokers\">\n            Brokers\n          </TabsTrigger>\n          <TabsTrigger value=\"scam-reports\" data-testid=\"tab-scam-reports\">\n            Scam Reports ({scamReports?.length || 0})\n          </TabsTrigger>\n          <TabsTrigger value=\"reviews\" data-testid=\"tab-broker-reviews\">\n            Reviews\n          </TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"brokers\" className=\"space-y-4\">\n          {/* Search */}\n          <Card>\n            <CardHeader>\n              <CardTitle>Search Brokers</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"relative\">\n                <Search className=\"absolute left-3 top-3 h-4 w-4 text-muted-foreground\" />\n                <Input\n                  placeholder=\"Search by broker name...\"\n                  value={search}\n                  onChange={(e) => setSearch(e.target.value)}\n                  className=\"pl-9\"\n                  data-testid=\"input-broker-search\"\n                />\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* Brokers Table */}\n          <Card>\n            <CardHeader>\n              <CardTitle>Brokers ({brokers?.length || 0})</CardTitle>\n            </CardHeader>\n            <CardContent>\n              {brokersLoading ? (\n                <div className=\"space-y-2\">\n                  {[...Array(5)].map((_, i) => (\n                    <Skeleton key={i} className=\"h-16\" />\n                  ))}\n                </div>\n              ) : (\n                <div className=\"overflow-x-auto\">\n                  <Table>\n                    <TableHeader>\n                      <TableRow>\n                        <TableHead>Broker Name</TableHead>\n                        <TableHead>Country</TableHead>\n                        <TableHead>Regulation</TableHead>\n                        <TableHead>Verified</TableHead>\n                        <TableHead>Reviews</TableHead>\n                        <TableHead>Rating</TableHead>\n                        <TableHead>Actions</TableHead>\n                      </TableRow>\n                    </TableHeader>\n                    <TableBody>\n                      {brokers && brokers.length > 0 ? (\n                        brokers.map((broker: any) => (\n                          <TableRow key={broker.id} data-testid={`broker-row-${broker.id}`}>\n                            <TableCell data-testid={`broker-name-${broker.id}`}>\n                              {broker.name}\n                            </TableCell>\n                            <TableCell>{broker.country || 'N/A'}</TableCell>\n                            <TableCell>\n                              {broker.regulation ? (\n                                <Badge variant=\"outline\">{broker.regulation}</Badge>\n                              ) : (\n                                <span className=\"text-muted-foreground\">N/A</span>\n                              )}\n                            </TableCell>\n                            <TableCell>\n                              <Badge variant={broker.verified ? 'default' : 'secondary'}>\n                                {broker.verified ? 'Verified' : 'Unverified'}\n                              </Badge>\n                            </TableCell>\n                            <TableCell>{broker.reviewCount || 0}</TableCell>\n                            <TableCell>\n                              <Badge variant=\"outline\">\n                                {broker.rating ? broker.rating.toFixed(1) : 'N/A'}\n                              </Badge>\n                            </TableCell>\n                            <TableCell>\n                              <div className=\"flex gap-2 flex-wrap\">\n                                {!broker.verified ? (\n                                  <Button\n                                    size=\"sm\"\n                                    variant=\"outline\"\n                                    onClick={() => verifyBrokerMutation.mutate(broker.id)}\n                                    data-testid={`button-verify-broker-${broker.id}`}\n                                  >\n                                    <CheckCircle className=\"h-4 w-4 mr-1\" />\n                                    Verify\n                                  </Button>\n                                ) : (\n                                  <Button\n                                    size=\"sm\"\n                                    variant=\"outline\"\n                                    onClick={() => unverifyBrokerMutation.mutate(broker.id)}\n                                    data-testid={`button-unverify-broker-${broker.id}`}\n                                  >\n                                    <XCircle className=\"h-4 w-4 mr-1\" />\n                                    Unverify\n                                  </Button>\n                                )}\n                              </div>\n                            </TableCell>\n                          </TableRow>\n                        ))\n                      ) : (\n                        <TableRow>\n                          <TableCell colSpan={7} className=\"text-center py-8 text-muted-foreground\">\n                            No brokers found\n                          </TableCell>\n                        </TableRow>\n                      )}\n                    </TableBody>\n                  </Table>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"scam-reports\" className=\"space-y-4\">\n          <Card>\n            <CardHeader>\n              <CardTitle>Scam Reports ({scamReports?.length || 0})</CardTitle>\n            </CardHeader>\n            <CardContent>\n              {reportsLoading ? (\n                <div className=\"space-y-2\">\n                  {[...Array(5)].map((_, i) => (\n                    <Skeleton key={i} className=\"h-16\" />\n                  ))}\n                </div>\n              ) : (\n                <div className=\"overflow-x-auto\">\n                  <Table>\n                    <TableHeader>\n                      <TableRow>\n                        <TableHead>Broker</TableHead>\n                        <TableHead>Reporter</TableHead>\n                        <TableHead>Reason</TableHead>\n                        <TableHead>Status</TableHead>\n                        <TableHead>Reported</TableHead>\n                        <TableHead>Actions</TableHead>\n                      </TableRow>\n                    </TableHeader>\n                    <TableBody>\n                      {scamReports && scamReports.length > 0 ? (\n                        scamReports.map((report: any) => (\n                          <TableRow key={report.id} data-testid={`scam-report-${report.id}`}>\n                            <TableCell>{report.brokerName}</TableCell>\n                            <TableCell>{report.reporterUsername}</TableCell>\n                            <TableCell>{report.reason}</TableCell>\n                            <TableCell>\n                              <Badge variant={report.status === 'resolved' ? 'default' : 'destructive'}>\n                                {report.status}\n                              </Badge>\n                            </TableCell>\n                            <TableCell>\n                              {formatDistanceToNow(new Date(report.createdAt), { addSuffix: true })}\n                            </TableCell>\n                            <TableCell>\n                              <div className=\"flex gap-2 flex-wrap\">\n                                <Button\n                                  size=\"sm\"\n                                  variant=\"outline\"\n                                  onClick={() => resolveScamReportMutation.mutate({ \n                                    reportId: report.id, \n                                    action: 'verified' \n                                  })}\n                                  disabled={report.status === 'resolved'}\n                                  data-testid={`button-resolve-report-${report.id}`}\n                                >\n                                  <CheckCircle className=\"h-4 w-4 mr-1\" />\n                                  Resolve\n                                </Button>\n                                <Button\n                                  size=\"sm\"\n                                  variant=\"outline\"\n                                  data-testid={`button-view-report-${report.id}`}\n                                >\n                                  <Eye className=\"h-4 w-4 mr-1\" />\n                                  View\n                                </Button>\n                              </div>\n                            </TableCell>\n                          </TableRow>\n                        ))\n                      ) : (\n                        <TableRow>\n                          <TableCell colSpan={6} className=\"text-center py-8 text-muted-foreground\">\n                            No scam reports\n                          </TableCell>\n                        </TableRow>\n                      )}\n                    </TableBody>\n                  </Table>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"reviews\" className=\"space-y-4\">\n          <Card>\n            <CardHeader>\n              <CardTitle>Recent Broker Reviews ({reviews?.length || 0})</CardTitle>\n            </CardHeader>\n            <CardContent>\n              {reviewsLoading ? (\n                <div className=\"space-y-2\">\n                  {[...Array(5)].map((_, i) => (\n                    <Skeleton key={i} className=\"h-16\" />\n                  ))}\n                </div>\n              ) : (\n                <div className=\"overflow-x-auto\">\n                  <Table>\n                    <TableHeader>\n                      <TableRow>\n                        <TableHead>Broker</TableHead>\n                        <TableHead>Reviewer</TableHead>\n                        <TableHead>Rating</TableHead>\n                        <TableHead>Review</TableHead>\n                        <TableHead>Posted</TableHead>\n                        <TableHead>Actions</TableHead>\n                      </TableRow>\n                    </TableHeader>\n                    <TableBody>\n                      {reviews && reviews.length > 0 ? (\n                        reviews.map((review: any) => (\n                          <TableRow key={review.id} data-testid={`review-row-${review.id}`}>\n                            <TableCell>{review.brokerName}</TableCell>\n                            <TableCell>{review.reviewerUsername}</TableCell>\n                            <TableCell>\n                              <Badge variant=\"outline\">{review.rating}/5</Badge>\n                            </TableCell>\n                            <TableCell className=\"max-w-xs truncate\">\n                              {review.comment || 'No comment'}\n                            </TableCell>\n                            <TableCell>\n                              {formatDistanceToNow(new Date(review.createdAt), { addSuffix: true })}\n                            </TableCell>\n                            <TableCell>\n                              <Button\n                                size=\"sm\"\n                                variant=\"outline\"\n                                data-testid={`button-view-review-${review.id}`}\n                              >\n                                <Eye className=\"h-4 w-4 mr-1\" />\n                                View\n                              </Button>\n                            </TableCell>\n                          </TableRow>\n                        ))\n                      ) : (\n                        <TableRow>\n                          <TableCell colSpan={6} className=\"text-center py-8 text-muted-foreground\">\n                            No reviews found\n                          </TableCell>\n                        </TableRow>\n                      )}\n                    </TableBody>\n                  </Table>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        </TabsContent>\n      </Tabs>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4397, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/admin/sections/Finance.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\";\nimport { Button } from \"@/components/ui/button\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { DollarSign, TrendingDown, TrendingUp, Coins, CheckCircle, XCircle } from \"lucide-react\";\nimport { formatDistanceToNow } from \"date-fns\";\nimport { queryClient, apiRequest } from \"@/lib/queryClient\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, PieChart, Pie, Cell } from \"recharts\";\n\nconst COLORS = ['hsl(var(--primary))', 'hsl(var(--secondary))', 'hsl(var(--accent))', 'hsl(var(--muted))'];\n\nexport default function AdminFinance() {\n  const [periodFilter, setPeriodFilter] = useState(\"30d\");\n  const { toast } = useToast();\n\n  const { data: overview, isLoading: overviewLoading } = useQuery({\n    queryKey: [\"/api/admin/finance/overview\"]\n  });\n\n  const { data: transactions, isLoading: transactionsLoading } = useQuery({\n    queryKey: [\"/api/admin/finance/transactions\", { period: periodFilter }]\n  });\n\n  const { data: withdrawals, isLoading: withdrawalsLoading } = useQuery({\n    queryKey: [\"/api/admin/finance/withdrawals/pending\"]\n  });\n\n  const { data: revenueChart, isLoading: chartLoading } = useQuery({\n    queryKey: [\"/api/admin/finance/revenue-chart\", { period: periodFilter }]\n  });\n\n  const { data: revenueBySource, isLoading: sourceLoading } = useQuery({\n    queryKey: [\"/api/admin/finance/revenue-by-source\"]\n  });\n\n  const approveWithdrawalMutation = useMutation({\n    mutationFn: async (withdrawalId: number) => {\n      return apiRequest(\"POST\", `/api/admin/finance/withdrawals/${withdrawalId}/approve`, {});\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/finance\"] });\n      toast({ title: \"Withdrawal approved successfully\" });\n    },\n    onError: () => {\n      toast({ title: \"Failed to approve withdrawal\", variant: \"destructive\" });\n    }\n  });\n\n  const rejectWithdrawalMutation = useMutation({\n    mutationFn: async ({ withdrawalId, reason }: { withdrawalId: number; reason: string }) => {\n      return apiRequest(\"POST\", `/api/admin/finance/withdrawals/${withdrawalId}/reject`, { reason });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/finance\"] });\n      toast({ title: \"Withdrawal rejected successfully\" });\n    },\n    onError: () => {\n      toast({ title: \"Failed to reject withdrawal\", variant: \"destructive\" });\n    }\n  });\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between gap-4 flex-wrap\">\n        <h1 className=\"text-3xl font-bold\">Finance Management</h1>\n        <Select value={periodFilter} onValueChange={setPeriodFilter}>\n          <SelectTrigger className=\"w-48\" data-testid=\"select-period-filter\">\n            <SelectValue placeholder=\"Select period\" />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"7d\">Last 7 Days</SelectItem>\n            <SelectItem value=\"30d\">Last 30 Days</SelectItem>\n            <SelectItem value=\"90d\">Last 90 Days</SelectItem>\n          </SelectContent>\n        </Select>\n      </div>\n\n      {/* Financial Overview Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n        <Card data-testid=\"card-total-revenue\">\n          <CardHeader className=\"flex flex-row items-center justify-between gap-2 space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Total Revenue</CardTitle>\n            <DollarSign className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            {overviewLoading ? (\n              <Skeleton className=\"h-8 w-24\" />\n            ) : (\n              <>\n                <div className=\"text-2xl font-bold\" data-testid=\"text-finance-revenue\">\n                  ${overview?.totalRevenue || 0}\n                </div>\n                <p className=\"text-xs text-muted-foreground flex items-center gap-1\">\n                  <TrendingUp className=\"h-3 w-3\" />\n                  +{overview?.revenueGrowth || 0}% vs last period\n                </p>\n              </>\n            )}\n          </CardContent>\n        </Card>\n\n        <Card data-testid=\"card-pending-withdrawals\">\n          <CardHeader className=\"flex flex-row items-center justify-between gap-2 space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Pending Withdrawals</CardTitle>\n            <TrendingDown className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            {overviewLoading ? (\n              <Skeleton className=\"h-8 w-24\" />\n            ) : (\n              <>\n                <div className=\"text-2xl font-bold\" data-testid=\"text-pending-withdrawals\">\n                  ${overview?.pendingWithdrawals || 0}\n                </div>\n                <p className=\"text-xs text-muted-foreground\">\n                  {overview?.pendingWithdrawalCount || 0} requests\n                </p>\n              </>\n            )}\n          </CardContent>\n        </Card>\n\n        <Card data-testid=\"card-total-transactions\">\n          <CardHeader className=\"flex flex-row items-center justify-between gap-2 space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Total Transactions</CardTitle>\n            <Coins className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            {overviewLoading ? (\n              <Skeleton className=\"h-8 w-24\" />\n            ) : (\n              <>\n                <div className=\"text-2xl font-bold\" data-testid=\"text-total-transactions\">\n                  {overview?.totalTransactions || 0}\n                </div>\n                <p className=\"text-xs text-muted-foreground\">\n                  {overview?.transactionsToday || 0} today\n                </p>\n              </>\n            )}\n          </CardContent>\n        </Card>\n\n        <Card data-testid=\"card-top-earner\">\n          <CardHeader className=\"flex flex-row items-center justify-between gap-2 space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Top Earner</CardTitle>\n            <TrendingUp className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            {overviewLoading ? (\n              <Skeleton className=\"h-8 w-24\" />\n            ) : (\n              <>\n                <div className=\"text-lg font-bold truncate\">\n                  {overview?.topEarner?.username || 'N/A'}\n                </div>\n                <p className=\"text-xs text-muted-foreground\">\n                  ${overview?.topEarner?.earnings || 0} earned\n                </p>\n              </>\n            )}\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Charts Row */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <Card data-testid=\"card-revenue-trend\">\n          <CardHeader>\n            <CardTitle>Revenue Trend</CardTitle>\n          </CardHeader>\n          <CardContent>\n            {chartLoading ? (\n              <Skeleton className=\"h-64\" />\n            ) : revenueChart && revenueChart.length > 0 ? (\n              <ResponsiveContainer width=\"100%\" height={250}>\n                <LineChart data={revenueChart}>\n                  <CartesianGrid strokeDasharray=\"3 3\" />\n                  <XAxis dataKey=\"date\" />\n                  <YAxis />\n                  <Tooltip />\n                  <Line type=\"monotone\" dataKey=\"revenue\" stroke=\"hsl(var(--primary))\" strokeWidth={2} />\n                </LineChart>\n              </ResponsiveContainer>\n            ) : (\n              <div className=\"h-64 flex items-center justify-center text-muted-foreground\">\n                No revenue data available\n              </div>\n            )}\n          </CardContent>\n        </Card>\n\n        <Card data-testid=\"card-revenue-by-source\">\n          <CardHeader>\n            <CardTitle>Revenue by Source</CardTitle>\n          </CardHeader>\n          <CardContent>\n            {sourceLoading ? (\n              <Skeleton className=\"h-64\" />\n            ) : revenueBySource && revenueBySource.length > 0 ? (\n              <ResponsiveContainer width=\"100%\" height={250}>\n                <PieChart>\n                  <Pie\n                    data={revenueBySource}\n                    dataKey=\"value\"\n                    nameKey=\"name\"\n                    cx=\"50%\"\n                    cy=\"50%\"\n                    outerRadius={80}\n                    label\n                  >\n                    {revenueBySource.map((entry: any, index: number) => (\n                      <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n                    ))}\n                  </Pie>\n                  <Tooltip />\n                </PieChart>\n              </ResponsiveContainer>\n            ) : (\n              <div className=\"h-64 flex items-center justify-center text-muted-foreground\">\n                No source data available\n              </div>\n            )}\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Pending Withdrawals */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Pending Withdrawals ({withdrawals?.length || 0})</CardTitle>\n        </CardHeader>\n        <CardContent>\n          {withdrawalsLoading ? (\n            <div className=\"space-y-2\">\n              {[...Array(5)].map((_, i) => (\n                <Skeleton key={i} className=\"h-16\" />\n              ))}\n            </div>\n          ) : (\n            <div className=\"overflow-x-auto\">\n              <Table>\n                <TableHeader>\n                  <TableRow>\n                    <TableHead>User</TableHead>\n                    <TableHead>Amount</TableHead>\n                    <TableHead>Method</TableHead>\n                    <TableHead>Wallet</TableHead>\n                    <TableHead>Requested</TableHead>\n                    <TableHead>Actions</TableHead>\n                  </TableRow>\n                </TableHeader>\n                <TableBody>\n                  {withdrawals && withdrawals.length > 0 ? (\n                    withdrawals.map((withdrawal: any) => (\n                      <TableRow key={withdrawal.id} data-testid={`withdrawal-row-${withdrawal.id}`}>\n                        <TableCell data-testid={`withdrawal-user-${withdrawal.id}`}>\n                          {withdrawal.username}\n                        </TableCell>\n                        <TableCell data-testid={`withdrawal-amount-${withdrawal.id}`}>\n                          ${withdrawal.amount || 0}\n                        </TableCell>\n                        <TableCell>\n                          <Badge variant=\"outline\">{withdrawal.method || 'USDT'}</Badge>\n                        </TableCell>\n                        <TableCell className=\"max-w-xs truncate\">\n                          {withdrawal.walletAddress || 'N/A'}\n                        </TableCell>\n                        <TableCell>\n                          {formatDistanceToNow(new Date(withdrawal.createdAt), { addSuffix: true })}\n                        </TableCell>\n                        <TableCell>\n                          <div className=\"flex gap-2 flex-wrap\">\n                            <Button\n                              size=\"sm\"\n                              variant=\"outline\"\n                              onClick={() => approveWithdrawalMutation.mutate(withdrawal.id)}\n                              data-testid={`button-approve-withdrawal-${withdrawal.id}`}\n                            >\n                              <CheckCircle className=\"h-4 w-4 mr-1\" />\n                              Approve\n                            </Button>\n                            <Button\n                              size=\"sm\"\n                              variant=\"destructive\"\n                              onClick={() => rejectWithdrawalMutation.mutate({ \n                                withdrawalId: withdrawal.id, \n                                reason: \"Manual rejection\" \n                              })}\n                              data-testid={`button-reject-withdrawal-${withdrawal.id}`}\n                            >\n                              <XCircle className=\"h-4 w-4 mr-1\" />\n                              Reject\n                            </Button>\n                          </div>\n                        </TableCell>\n                      </TableRow>\n                    ))\n                  ) : (\n                    <TableRow>\n                      <TableCell colSpan={6} className=\"text-center py-8 text-muted-foreground\">\n                        No pending withdrawals\n                      </TableCell>\n                    </TableRow>\n                  )}\n                </TableBody>\n              </Table>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Recent Transactions */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Recent Transactions ({transactions?.length || 0})</CardTitle>\n        </CardHeader>\n        <CardContent>\n          {transactionsLoading ? (\n            <div className=\"space-y-2\">\n              {[...Array(5)].map((_, i) => (\n                <Skeleton key={i} className=\"h-16\" />\n              ))}\n            </div>\n          ) : (\n            <div className=\"overflow-x-auto\">\n              <Table>\n                <TableHeader>\n                  <TableRow>\n                    <TableHead>User</TableHead>\n                    <TableHead>Type</TableHead>\n                    <TableHead>Amount</TableHead>\n                    <TableHead>Description</TableHead>\n                    <TableHead>Date</TableHead>\n                  </TableRow>\n                </TableHeader>\n                <TableBody>\n                  {transactions && transactions.length > 0 ? (\n                    transactions.map((txn: any) => (\n                      <TableRow key={txn.id} data-testid={`transaction-row-${txn.id}`}>\n                        <TableCell>{txn.username}</TableCell>\n                        <TableCell>\n                          <Badge variant={txn.type === 'credit' ? 'default' : 'secondary'}>\n                            {txn.type}\n                          </Badge>\n                        </TableCell>\n                        <TableCell data-testid={`transaction-amount-${txn.id}`}>\n                          {txn.type === 'credit' ? '+' : '-'}{txn.amount} coins\n                        </TableCell>\n                        <TableCell className=\"max-w-xs truncate\">\n                          {txn.description || 'N/A'}\n                        </TableCell>\n                        <TableCell>\n                          {formatDistanceToNow(new Date(txn.createdAt), { addSuffix: true })}\n                        </TableCell>\n                      </TableRow>\n                    ))\n                  ) : (\n                    <TableRow>\n                      <TableCell colSpan={5} className=\"text-center py-8 text-muted-foreground\">\n                        No transactions found\n                      </TableCell>\n                    </TableRow>\n                  )}\n                </TableBody>\n              </Table>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}